<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/empty}">
<!-- 최신 SpringBoot 에서는 layout:decorate="~{layout/layout}" 으로 사용 -->

<th:block layout:fragment="content">
    <!-- Preloader -->
<div class="login-box">
	<div class="login-logo">
		<a href="loginView.do">Isseyo<b>?!</b></a>
	</div>
	<!-- /.login-logo -->
	<div class="card">
		<div class="card-body login-card-body">

			<form id="main" th:object=${loginDto} th:action="@{/loginUp}" method="post">
				<div class="input-group mb-3">
					<input name="userId" type="id" class="form-control" placeholder="Id">
					<div class="input-group-append">
						<div class="input-group-text">
							<span class="fas fa-envelope"></span>
						</div>
					</div>
				</div>
				<div class="input-group mb-3">
					<input name="password" type="password" class="form-control" placeholder="Password">
					<div class="input-group-append">
						<div class="input-group-text">
							<span class="fas fa-lock"></span>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-12">
						<button type="submit" class="btn btn-success btn-block">로그인</button>
					</div>
					<!-- /.col -->
				</div>
			</form>
			<!-- <div class="social-auth-links text-center mb-3">
				<a href="#" class="btn btn-block btn-primary">
					<i class="fab fa-facebook mr-2"></i> Sign in using Facebook
				</a> 
				<a href="#" class="btn btn-block btn-danger">
					<i class="fab fa-google-plus mr-2"></i> Sign in using Google+
				</a>
			</div> -->
			<!-- /.social-auth-links -->
			<div class="row">
				<div class="col-12">
					<button onclick="location.href='/sign'" type="submit" class="btn btn-info btn-block">회원가입</button>
				</div>
				<!-- /.col -->
			</div>
		</div>
		<!-- /.login-card-body -->
	</div>
</div>
<!-- /.login-box -->
<script>
	$(function() {
		$('#loginForm').validate({
			submitHandler : function() {
				var form = document.querySelector("#loginForm");
				form.action = 'loginForm';
				form.submit();
			},
			rules : {
				password : {
					required : true,
					minlength : 5
				},
				bizEmail : {
					required : true,
					email : true,
				}
			},
			messages : {
				password : {
					required : "비밀번호를 입력해 주세요",
					minlength : "5자리 이상 입력해 주세요."
				},
				bizEmail : {
					required : "이메일을 입력해 주세요.",
					email : "이메일 규격이 아닙니다."
				}
			},
			errorElement : 'label',
			errorPlacement : function(error, element) {
				error.addClass('invalid-feedback');
				element.closest('.form-group').append(error);
			},
			highlight : function(element, errorClass,
					validClass) {
				$(element).addClass('is-invalid');
			},
			unhighlight : function(element, errorClass,
					validClass) {
				$(element).removeClass('is-invalid');
			}
		});
	});
</script>
</th:block>
